## 数字三角形模型

![image-20230521150136490](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230521150136490.png)

###### 898

###### 1015

![image-20230521145332679](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230521145332679.png)

###### 1018

###### 1027

![image-20230521154846900](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230521154846900.png)

## 最长上升子序列

![image-20230522095036677](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230522095036677.png)

###### LIS：895/896

###### LCS：897

###### 1017

###### 1014/482

###### 1012

###### 1016

###### 1010

[AcWing 1010. 拦截导弹【附贪心证明】 - AcWing](https://www.acwing.com/solution/content/52042/)

**一个序列中最少用多少个非上升子序列的覆盖掉 等价于 一个序列中最长上升子序列的长度，离散数学反链定理-\_-**

**stringstream** 

![image-20230522144841639](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230522144841639.png)

![image-20230522145632473](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230522145632473.png)

###### 187

###### 272

![image-20230522155259158](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230522155259158.png)

![image-20230522163031763](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230522163031763.png)  

```
可以发现：a[i] == b[j], 则 b[k] < a[i]; 并且 f[i][j] 是通过 f[i-1][1~j-1]更新的，f[i][j-1] 是通过 f[i-1][1~j-1-1] 更新的 ...

我们默认一个maxv 代表 a[i]固定时 1~j 的最大上升公共子序列长度

若 a[i] == b[j], 为替换，当前 j 替换maxv时的 j，则 f[i][j] = max(f[i][j], maxv);（f[i][j]初始化为f[i-1][j]， 即不选a[i], max{选a[i]}）

若 a[i] > b[j], 为追加，当前 j 可以是 最长公共上升子序列的倒数第二个元素，a[i] == b[j]时的j 就可以追加到这个j的后面

则maxv可能会发生更新， maxv = max(maxv, f[i][j] + 1)

 若 a[i] < b[j] 不符合上升子序列
```

![image-20230522183323837](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230522183323837.png)

## 背包模型

![image-20230523082903719](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230523082903719.png)

### 01背包

###### 2：01背包

![image-20230523085331626](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230523085331626.png)

###### 43：采药

###### 1024：装箱问题

###### 426

###### 734：能量石 -- 贪心+dp

### 完全背包

###### 3：完全背包

![image-20230523094619146](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230523094619146.png)

###### 532：完全背包求解最大无关向量组个数

### 多重背包

###### 4/5：多重背包1/2

二进制优化

###### 6：多重背包3

![image-20230523094750081](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230523094750081.png)

https://www.acwing.com/solution/content/53507/

![image-20230523165229157](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230523165229157.png)

![image-20230523165320055](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230523165320055.png)

###### 1019：庆功会

### 分组背包

###### 9：分组背包

### 二维费用背包

###### 8：二维费用背包

![image-20230523150301775](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230523150301775.png)

###### 1022：宠物小精灵之收服

![image-20230523142659598](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230523142659598.png)

###### 潜水员  

![image-20230523155020213](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230523155020213.png)

![image-20230523154409556](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230523154409556.png)

~~~
https://www.acwing.com/solution/content/53848/
~~~

### 求方案数/方案

###### 278：数字组合 -- 01

![image-20230523162912613](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230523162912613.png)

###### 1023：买书 -- 完全

![image-20230523171023866](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230523171023866.png)

###### 11

###### 12

###### 1013

### 混合背包

###### 7



### 依赖背包

###### 10

###### 487：金明的预算方案 

![image-20230524142910006](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230524142910006.png)

**二进制解法**：[AcWing 487. 金明的预算方案【有依赖背包DP+分组背包集合划分】 - AcWing](https://www.acwing.com/solution/content/54723/)

**01背包解法**：[AcWing 487. 超出题目本身的思考，金明的预算方案更快的解法，枚举2的N次方还是太慢了 - AcWing](https://www.acwing.com/solution/content/16430/)



### 其他

[背包问题中 体积至多是 j ，恰好是 j ，至少是 j 的初始化问题的研究 - AcWing](https://www.acwing.com/file_system/file/content/whole/index/content/1306630/)

## 状态机模型

###### 是什么

![image-20230527151157688](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230527151157688.png)

###### 1049

![image-20230527152954645](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230527152954645.png)

![image-20230527153330057](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230527153330057.png)

![image-20230527161055071](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230527161055071.png)

![image-20230528163047420](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230528163047420.png)

###### 1057

![image-20230527163113658](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230527163113658.png)

![image-20230527163225835](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230527163225835.png)

[AcWing 1057. 股票买卖 IV【线性DP+状态机模型DP+滚动数组优化】 - AcWing](https://www.acwing.com/solution/content/55037/)

![image-20230528170557134](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230528170557134.png)

###### 1058

![image-20230527170822872](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230527170822872.png)

![image-20230528192819111](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230528192819111.png)

###### 1052

[自动机 - OI Wiki (oi-wiki.org)](https://oi-wiki.org/string/automaton/)

[AcWing 1052. 设计密码【线性DP+KMP自动机模型】 - AcWing](https://www.acwing.com/solution/content/55449/)

![image-20230528200008877](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230528200008877.png)

## 状态压缩DP

###### 291

###### 1064

![image-20230528135857246](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230528135857246.png)

###### 327

![image-20230528144529345](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230528144529345.png)

###### 292

![image-20230528154807619](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230528154807619.png)

![image-20230528221435592](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230528221435592.png)

## 区间DP

###### 282

###### 1068：环形DP

![image-20230529122813519](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230529122813519.png)

![image-20230529122928860](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230529122928860.png)

**n个点的缺口环，转换成 2n个点的链**

######  320：矩阵乘法

![image-20230529133232040](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230529133232040.png)

###### 1069：高精度

![image-20230529140253629](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230529140253629.png)

![image-20230530093733199](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230530093733199.png)

[AcWing 1069. 凸多边形的划分 - AcWing](https://www.acwing.com/activity/content/code/content/124469/)

[AcWing 1069. 凸多边形的划分【区间DP+高精度=缝合怪】 - AcWing](https://www.acwing.com/solution/content/62040/)

###### 479：中序前序

```
f[i][j]: 按照 从i节点到j节点为中序序列 构成的树 的 所有最大值
则根节点在 i~j 中一个位置， 假设 为 k
则 f[i][j] = max(f[i][j], f[l][k - 1]*f[k + 1][r] + w[k])//子树为空时，其值为1
```

![image-20230529145829891](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230529145829891.png)

###### 321：记忆化搜索+前缀和

![image-20230529153206878](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230529153206878.png)

![image-20230530100527001](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230530100527001.png)

## 树形DP

###### 1072：树的直径

**求树的直径朴素版**：1. 先求任意一个点的相连最远端点u，再求u的最远端点v，u到v就是最长路径，树的直径

**dp版**：以节点u为端点，且不经过父节点的 最长路径，次长路径

###### 1073：换根DP

[AcWing 1073. 树的中心【树形DP+换根DP】 - AcWing](https://www.acwing.com/solution/content/65263/)

[AcWing 1073. 树的中心 - AcWing](https://www.acwing.com/solution/content/6825/)

~~~C++
d1[u]：存下u节点向下走的最长路径的长度
d2[u]：存下u节点向下走的第二长的路径的长度
p1[u]：存下u节点向下走的最长路径是从哪一个节点下去的
p2[u]：存下u节点向下走的第二长的路径是从哪一个节点走下去的
up[u]：存下u节点向上走的最长路径的长度

则以u为端点的最长路径为 max(d1[u], up[u]);
~~~

###### 1075：约数

[AcWing 1075. 数字转换【树形DP】 - AcWing](https://www.acwing.com/solution/content/65467/)

![image-20230530211923737](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230530211923737.png)

树的直径变形

###### 1074：依赖背包

![image-20230530214611365](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230530214611365.png)

###### 323：状态机

[AcWing 323. 战略游戏【树形DP+状态机模型】 - AcWing](https://www.acwing.com/solution/content/66365/)

![image-20230530215018424](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230530215018424.png)

###### 1077

![image-20230530215137165](%E5%9B%BE%E7%89%87/%E6%80%9D%E8%B7%AF/image-20230530215137165.png)
